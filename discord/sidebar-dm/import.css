:root {
    --sidebar-dm-width: 68px;
    --sidebar-dm-focused-width: 245px;
    --sidebar-dm-transition: 200ms;
    --sidebar-dm-focused-transition: 600ms;
    --sidebar-dm-display-header: flex;
}

/* unfocused-within sidebar-dim width */
[class*="sidebar_"]:has([aria-label*="Private"]) {
    width: var(--sidebar-dm-width);
    transition: ease-out var(--sidebar-dm-transition);
}

/* focused-within sidebar-dim width */
[class*="sidebar_"]:has([aria-label*="Private"]):focus-within {
    width: var(--sidebar-dm-focused-width);
    transition: ease-in var(--sidebar-dm-focused-transition);
}

/* pointer events*/
[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>*>*>* {
    cursor: pointer;
}

[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>nav>*>*>* {
    pointer-events: none;
}

/* don't show close dm button when hovering to avatar until it's focus-within */
[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>nav>[class*="scroller_"]>ul>li:focus-within>div>[class*="closeButton"] {
    display: none;
}

/* hide direct message header category */
[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>nav>[class*="scroller_"]>ul>[class*="privateChannelsHeaderContainer_"] {
    display: none;
}

[class*="sidebar_"]:has([aria-label*="Private"]):focus-within>nav>[class*="scroller_"]>ul>[class*="privateChannelsHeaderContainer_"] {
    display: var(--sidebar-dm-display-header);
}

/* hide conversation searchBar*/
[class*="sidebar_"]:has([aria-label*="Private"])>nav>[class*="searchBar_"] {
    display: none;
}

/* only show Disconnect icon when joining on voice channel */
[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="wrapper_"]>[class*="container_"]>div>[class*="inner_"],
[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="wrapper_"]>[class*="container_"]>div>div>[aria-label*="Noise Suppression"] {
    display: none;
}

/* fix Activity panel */
[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="activityPanel_"] {
    display: flex;
    justify-content: center;
}

[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="activityPanel_"]>div {
    display: flex;
    flex-direction: column;
    gap: 8px;
}

[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="activityPanel_"]>div>div[class*="gameWrapper_"] {
    display: flex;
    flex-direction: column;
    justify-content: center;
}

[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="activityPanel_"]>div>div[class*="gameWrapper_"]>div[class*="info_"] {
    display: none;
}

/* action buttons when joining voice channel */
[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="wrapper_"]>[class*="container_"]>[class*="actionButtons_"] {
    display: flex;
    flex-direction: row;
    scroll-snap-type: x mandatory;
    overflow: scroll hidden;
}

[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="wrapper_"]>[class*="container_"]>[class*="actionButtons_"]>* {
    scroll-snap-align: center;
}

[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="wrapper_"]>[class*="container_"]>[class*="actionButtons_"]::-webkit-scrollbar {
    display: none;
}

/* show only your profile picture on sidebar */
[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="container_"]:has(>[class*="avatarWrapper_"])>[class*="flex_"] {
    display: none;
}

[class*="sidebar_"]:has([aria-label*="Private"]):focus-within>[class*="panels_"]>[class*="container_"]>[class*="avatarWrapper_"] {
    padding-left: 2px;
    margin-left: 2px;
}

[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="container_"] {
    margin-left: 0px;
    justify-content: center;
}

[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="container_"]>[class*="avatarWrapper_"] {
    min-width: 34px;
    min-height: 37px;
    margin-left: 0px;
    padding-left: 0px;
}

[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="container_"]>[class*="avatarWrapper_"]>[class*="nameTag_"] {
    display: none;
}

[class*="sidebar_"]:has([aria-label*="Private"]):not(:focus-within)>[class*="panels_"]>[class*="container_"]>[class*="directionRow_"] {
    display: none;
}