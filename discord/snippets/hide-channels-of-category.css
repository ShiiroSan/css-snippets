/* hide channels if their respective category is not expanded */
[class*="sidebar-"]:has(nav[aria-label*="(server)"]) [class*="scroller-"]>ul[aria-label="Channels"]>li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="channel"]):not(li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="channel"])),
[class*="sidebar-"]:has(nav[aria-label*="(server)"]) [class*="scroller-"]>ul[aria-label="Channels"]>li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="(category)"]):has([aria-expanded="true"])~li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="channel"]):not(li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="channel"])),
[class*="sidebar-"]:has(nav[aria-label*="(server)"]) [class*="scroller-"]>ul[aria-label="Channels"]>li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="(category)"]):has([aria-expanded="true"])~li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="(category)"]):has([aria-expanded="true"])~li:has([aria-label*="(category)"]):has([aria-expanded="false"])~li:has([aria-label*="channel"]):not(li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="false"]) ~ li:has([aria-label*="(category)"]):has([aria-expanded="true"]) ~ li:has([aria-label*="channel"])) {
    display: none
}