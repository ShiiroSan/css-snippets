:root {
    --sidebar-channel-width: 68px;
    --sidebar-channel-hovered-width: 245px;
    --sidebar-channel-transition: 200ms;
    --sidebar-channel-hovered-transition: 600ms;
    --sidebar-channel-icon-size: 22px;
}

[class*="sidebar-"]:has([aria-label*="(server)"]) {
    width: var(--sidebar-channel-width);
    transition: ease-out var(--sidebar-channel-transition);
}

[class*="sidebar-"]:has([aria-label*="(server)"]):has(nav:focus-within) {
    width: var(--sidebar-channel-hovered-width);
    transition: ease-in var(--sidebar-channel-hovered-transition);
}

[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(focus-within)>[class*="scroller-"]>* {
    cursor: pointer;
}

[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>[class*="scroller-"]>*>* {
    pointer-events: none;
}

/* channel link icon */
[class*="sidebar-"]:has([aria-label*="(server)"])>nav>[class*="scroller-"]>ul[aria-label*="Channels"]>li [class^="link"] svg[class*="icon"] {
    width: var(--sidebar-channel-icon-size);
    height: var(--sidebar-channel-icon-size);
}

/* channel link to only display icons by hiding other elements*/
[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>[class*="scroller-"]>ul[aria-label*="Channels"]>li [class^="link"] div[class*="name-"],
[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>[class*="scroller-"]>ul[aria-label*="Channels"]>li [class^="link"] div[class*="children-"],
[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>[class*="scroller-"]>ul[aria-label*="Channels"]>li [class^="link"] div[class*="textBadge-"] {
    display: none;
}

/* added padding-left when not focused-within to fix some channel that aren't horizontally centered */
[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>[class*="scroller-"]>ul[aria-label*="Channels"]>li:has([class^="link"]):not(:has(div[class*="children-"])) {
    padding-left: 4px;
}

/* channel category to be hidden when not focus-within */
[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>[class*="scroller-"]>ul[aria-label*="Channels"]>li:has([aria-label*="(category)"]) svg[class*="arrow-"] {
    display: none
}

/* channel link threads to be hidden when not focus-within  */
[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>[class*="scroller-"]>ul[aria-label*="Channels"]>li:has(div[class*="spineBorder-"]):has(div[aria-label*="(thread)"]) {
    display: none
}

[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>[class*="scroller-"]>ul[aria-label*="Channels"]>div:has(div[class*="progressBarContainer-"])>div[class*="textArea-"] {
    display: none
}

[class*=unread-] {
    display: none;
}

[class*=modeUnread] [class*=icon-],
[class*=modeSelected-] [class*=icon-] {
    color: var(--interactive-active);
}

/* Remove channels icon when there's channel emoji */
[class*="sidebar-"]:has([aria-label*="(server)"])>nav>[class*="scroller-"]>ul[aria-label*="Channels"]>li>div>div a:has(> :nth-child(n + 2))>[class*="linkTop-"]:has([class*="channelEmoji-"])>[class*="iconContainer-"] {
    display: none;
}

/* Only show down arrow on New unread */
[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>div div[class*="bar-"]:has([class*="barText-"]):has(svg)>div {
    display: none;
}

[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>div div[class*="bar-"]:has([class*="barText-"])>svg {
    margin-right: 0px;
}

/* Only show "NEW" on New mention */
[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>div div[class*="bar-"]:has([class*="barText-"]):not(:has(svg))>div {
    display: none
}

[class*="sidebar-"]:has([aria-label*="(server)"])>nav:not(:focus-within)>div div[class*="bar-"]:has([class*="barText-"]):not(:has(svg)):before {
    content: "new";
    font-size: 12px;
    line-height: 16px;
    font-family: var(--font-display);
    font-weight: 600;
    color: var(--white-500);
    text-transform: uppercase;
}

/* Show only your Profile picture on Sidebar */
[class*="sidebar-"]:has([aria-label*="(server)"]):has(nav:not(:focus-within))>[class*="panels-"]>[class*="container-"] {
    margin-left: 0px;
}

[class*="sidebar-"]:has([aria-label*="(server)"]):has(nav:focus-within)>[class*="panels-"]>[class*="container-"]>[class*="avatarWrapper-"] {
    padding-left: 2px;
    margin-left: 2px;
}

[class*="sidebar-"]:has([aria-label*="(server)"]):has(nav:not(:focus-within))>[class*="panels-"]>[class*="container-"]>[class*="avatarWrapper-"] {
    min-width: 34px;
    min-height: 37px;
    margin-left: 0px;
    padding-left: 0px;
}

[class*="sidebar-"]:has([aria-label*="(server)"]):has(nav:not(:focus-within))>[class*="panels-"]>[class*="container-"]>[class*="avatarWrapper-"]>[class*="nameTag-"] {
    display: none;
}

[class*="sidebar-"]:has([aria-label*="(server)"]):has(nav:not(:focus-within))>[class*="panels-"]>[class*="container-"]>[class*="directionRow-"] {
    display: none;
}